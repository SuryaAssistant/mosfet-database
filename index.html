<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta content="width=device-width, initial-scale=1.0" name="viewport">
        <meta content="Mosfet database" name="description">
        <meta content="mosfet, database, mosfets" name="keywords">

        <title>Mosfet Database</title>
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">

        <!-- CSS -->
        <link href="./assets/css/index.css" rel="stylesheet">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

        <!-- Boxicon -->
        <link href='https://unpkg.com/boxicons@2.0.9/css/boxicons.min.css' rel='stylesheet'>
    </head>
    <body>
        <!-- Navbar -->
        <nav class="navbar sticky-top bg-body-tertiary pure-white-background">
            <div class="container-fluid">
              <a class="navbar-brand" href="#"><Strong>Mosfet Database</Strong></a>
            </div>
        </nav>

        <section class="d-flex flex-column" style="padding-bottom:0px; height: calc(100vh - 60px)">
            <div class="row" style="height: 100%; width:100%">
                <!-- Tab Menu -->
                <div class="col-md-2 prime-background">
                    <div class="row menu-active">
                        <div class="col-2"><i class='bx bxs-data menu-icon'></i></div>
                        <div class="col">
                            Database
                        </div>
                    </div>

                    <div class="row menu">
                        <div class="col-2"><i class='bx bxs-calculator menu-icon' ></i></div>
                        <div class="col">
                            Power Calculator
                        </div>
                    </div>

                    <div class="row menu">
                        <div class="col-2"><i class='bx bxs-calculator menu-icon' ></i></div>
                        <div class="col">
                            Switching Calculator
                        </div>
                    </div>
                </div>

                <!-- Content Field -->
                <div class="col-md-10">
                    <!-- Database -->
                    <div class="row" id="mosfet-database" style="overflow-y: auto; margin:0px">
                        <div class="container">
                            <div class="col">
                                <h4>Filter</h4>
                                <!-- Filter Area -->
                                <div class="row y-scroll">
                                    <div class="card text-bg-primary mb-3 card-filter" style="max-width: 9rem;">
                                        <div class="card-header">Search</div>
                                        <div class="card-body">
                                            <p class="card-text">abc</p>
                                        </div>
                                    </div>
                                    <div class="card text-bg-primary mb-3 card-filter" style="max-width: 9rem;">
                                        <div class="card-header">Search</div>
                                        <div class="card-body">
                                            <p class="card-text">abc</p>
                                        </div>
                                    </div>
                                    <div class="card text-bg-primary mb-3 card-filter" style="max-width: 9rem;">
                                        <div class="card-header">Search</div>
                                        <div class="card-body">
                                            <p class="card-text">abc</p>
                                        </div>
                                    </div>
                                    <div class="card text-bg-primary mb-3 card-filter" style="max-width: 9rem;">
                                        <div class="card-header">Search</div>
                                        <div class="card-body">
                                            <p class="card-text">abc</p>
                                        </div>
                                    </div>
                                    <div class="card text-bg-primary mb-3 card-filter" style="max-width: 9rem;">
                                        <div class="card-header">Search</div>
                                        <div class="card-body">
                                            <p class="card-text">abc</p>
                                        </div>
                                    </div>
                                    <div class="card text-bg-primary mb-3 card-filter" style="max-width: 9rem;">
                                        <div class="card-header">Search</div>
                                        <div class="card-body">
                                            <p class="card-text">abc</p>
                                        </div>
                                    </div>
                                    <div class="card text-bg-primary mb-3 card-filter" style="max-width: 9rem;">
                                        <div class="card-header">Search</div>
                                        <div class="card-body">
                                            <p class="card-text">abc</p>
                                        </div>
                                    </div>
                                    <div class="card text-bg-primary mb-3 card-filter" style="max-width: 9rem;">
                                        <div class="card-header">Search</div>
                                        <div class="card-body">
                                            <p class="card-text">abc</p>
                                        </div>
                                    </div>
                                    <div class="card text-bg-primary mb-3 card-filter" style="max-width: 9rem;">
                                        <div class="card-header">Search</div>
                                        <div class="card-body">
                                            <p class="card-text">abc</p>
                                        </div>
                                    </div>
                                    <div class="card text-bg-primary mb-3 card-filter" style="max-width: 9rem;">
                                        <div class="card-header">Search</div>
                                        <div class="card-body">
                                            <p class="card-text">abc</p>
                                        </div>
                                    </div>
                                    <div class="card text-bg-primary mb-3 card-filter" style="max-width: 9rem;">
                                        <div class="card-header">Search</div>
                                        <div class="card-body">
                                            <p class="card-text">abc</p>
                                        </div>
                                    </div>
                                    <div class="card text-bg-primary mb-3 card-filter" style="max-width: 9rem;">
                                        <div class="card-header">Search</div>
                                        <div class="card-body">
                                            <p class="card-text">abc</p>
                                        </div>
                                    </div>
                                </div>

                                <div class="row y-scroll">
                                        <table class="table table-hover">
                                            <thead>
                                              <tr>
                                                <th scope="col" >Manufacture Parts</th>
                                                <th scope="col" >Manufacture</th>
                                                <th scope="col" >Vdss</th>
                                                <th scope="col">Id</th>
                                                <th scope="col">Rds</th>
                                                <th scope="col"></th>
                                              </tr>
                                            </thead>
                                            <tbody>
                                              <tr>
                                                <th scope="row">1</th>
                                                <td>Mark</td>
                                                <td>Otto</td>
                                                <td>@mdo</td>
                                              </tr>
                                              <tr>
                                                <th scope="row"></th>
                                                <td>a</td>
                                                <td>Otto</td>
                                                <td>@mdo</td>
                                              </tr>
                                              <tr>
                                                <th scope="row">2</th>
                                                <td>Jacob</td>
                                                <td>Thornton</td>
                                                <td>@fat</td>
                                              </tr>
                                              <tr>
                                                <th scope="row">3</th>
                                                <td colspan="2">Larry the Bird</td>
                                                <td>@twitter</td>
                                              </tr>

                                              <tr>
                                                <td colspan="4">Larry the Bird</td>
                                              </tr>


                                            </tbody>
                                        </table>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </section>

        <!-- Bootstrap script -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>

        <!-- User script -->
        <script>
            var tempoStorage = [];
            var mosfetTree = [];
            var database = []; 

            async function fetchJson(filePath) {
                try {
                    const response = await fetch(filePath);
                    if (!response.ok) throw new Error(`HTTP error! Status: ${response.status}`);
                    const newJsonData = await response.json(); // Fetch the new JSON data
                    tempoStorage = newJsonData;
                } catch (error) {
                    console.error('Error fetching JSON:', error);
                }
            }

            // Wait for the window to be fully loaded
            window.onload = () => {
                fetchJson('./mosfet-tree.json') // Replace with your actual JSON URL
                .then(() => {
                    mosfetTree.push(tempoStorage);
                    tempoStorage = [];

                    let treeLength = mosfetTree[0].length;
                    for(let i=0; i<treeLength; i++){
                        let paramLoc = mosfetTree[0][i].parent + mosfetTree[0][i].name + '.json';
                        fetchJson(paramLoc)
                        .then(() => {
                            database.push(tempoStorage);
                            tempoStorage = [];
                        })
                        .catch(error => {
                            console.log('Error in fetch param', error);
                        });
                    }
                })
                .catch(error => {
                    console.error('Error in fetchJson:', error);
                });

            };
        
        </script>

    </body>
</html>